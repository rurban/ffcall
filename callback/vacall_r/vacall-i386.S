#include "asmi386.h"
TEXT()
	ALIGN(2)
GLOBL(C(__vacall_r))
	DECLARE_FUNCTION(__vacall_r)
FUNBEGIN(__vacall_r)
	INSN2(sub,l	,NUM(36),R(esp))
	INSN1(push,l	,R(esi))
	INSN2(mov,l	,NUM(0),X4 MEM_DISP(esp,4))
	INSN2(lea,l	,X4 MEM_DISP(esp,44),R(esi))
	INSN2(mov,l	,R(esi),X4 MEM_DISP(esp,8))
	INSN2(mov,l	,NUM(0),X4 MEM_DISP(esp,12))
	INSN2(mov,l	,NUM(0),X4 MEM_DISP(esp,16))
	INSN2(mov,l	,R(ebx),X4 MEM_DISP(esp,36))
	INSN2(lea,l	,X4 MEM_DISP(esp,4),R(edx))
	INSN1(push,l	,R(edx))
	INSN2(mov,l	,X4 MEM_DISP(ecx,4),R(edx))
	INSN1(push,l	,R(edx))
	INSN2(mov,l	,X4 MEM(ecx),R(edx))
	INSN1(call,_	,INDIR(R(edx)))
	INSN2(add,l	,NUM(8),R(esp))
	INSN2(mov,l	,X4 MEM_DISP(esp,16),R(edx))
	INSN2(test,l	,R(edx),R(edx))
	INSN1(je,_	,L3)
	INSN2(cmp,l	,NUM(1),R(edx))
	INSN1(je,_	,L45)
	INSN2(cmp,l	,NUM(2),R(edx))
	INSN1(jne,_	,L6)
L45:
	INSN2MOVX(movs,b	,X1 MEM_DISP(esp,28),R(eax))
	INSN1(jmp,_	,L3)
L6:
	INSN2(cmp,l	,NUM(3),R(edx))
	INSN1(jne,_	,L8)
	INSN2MOVX(movz,b	,X1 MEM_DISP(esp,28),R(eax))
	INSN1(jmp,_	,L3)
L8:
	INSN2(cmp,l	,NUM(4),R(edx))
	INSN1(jne,_	,L10)
	INSN2MOVX(movs,w	,X2 MEM_DISP(esp,28),R(eax))
	INSN1(jmp,_	,L3)
L10:
	INSN2(cmp,l	,NUM(5),R(edx))
	INSN1(jne,_	,L12)
	INSN2MOVX(movz,w	,X2 MEM_DISP(esp,28),R(eax))
	INSN1(jmp,_	,L3)
L12:
	INSN2(cmp,l	,NUM(6),R(edx))
	INSN1(je,_	,L46)
	INSN2(cmp,l	,NUM(7),R(edx))
	INSN1(je,_	,L46)
	INSN2(cmp,l	,NUM(8),R(edx))
	INSN1(je,_	,L46)
	INSN2(cmp,l	,NUM(9),R(edx))
	INSN1(je,_	,L46)
	INSN2(add,l	,NUM(-10),R(edx))
	INSN2(cmp,l	,NUM(1),R(edx))
	INSN1(ja,_	,L22)
	INSN2(mov,l	,X4 MEM_DISP(esp,28),R(eax))
	INSN2(mov,l	,X4 MEM_DISP(esp,32),R(edx))
	INSN1(jmp,_	,L3)
L22:
	INSN2(mov,l	,X4 MEM_DISP(esp,16),R(edx))
	INSN2(cmp,l	,NUM(12),R(edx))
	INSN1(jne,_	,L24)
	INSN1(fld,s	,X4 MEM_DISP(esp,28))
	INSN1(jmp,_	,L3)
L24:
	INSN2(cmp,l	,NUM(13),R(edx))
	INSN1(jne,_	,L26)
	INSN1(fld,l	,X8 MEM_DISP(esp,28))
	INSN1(jmp,_	,L3)
L26:
	INSN2(cmp,l	,NUM(14),R(edx))
	INSN1(jne,_	,L28)
L46:
	INSN2(mov,l	,X4 MEM_DISP(esp,28),R(eax))
	INSN1(jmp,_	,L3)
L28:
	INSN2(cmp,l	,NUM(15),R(edx))
	INSN1(jne,_	,L3)
	INSN2(mov,l	,X4 MEM_DISP(esp,4),R(edx))
	INSN2(test,b	,NUM(1),R(dl))
	INSN1(jne,_	,L47)
	INSN2(test,b	,NUM(4),R(dh))
	INSN1(je,_	,L33)
	INSN2(mov,l	,X4 MEM_DISP(esp,20),R(edx))
	INSN2(cmp,l	,NUM(1),R(edx))
	INSN1(jne,_	,L34)
	INSN2(mov,l	,X4 MEM_DISP(esp,12),R(edx))
	INSN2MOVX(movz,b	,X1 MEM(edx),R(eax))
	INSN1(jmp,_	,L3)
L34:
	INSN2(cmp,l	,NUM(2),R(edx))
	INSN1(jne,_	,L37)
	INSN2(mov,l	,X4 MEM_DISP(esp,12),R(edx))
	INSN2MOVX(movz,w	,X2 MEM(edx),R(eax))
	INSN1(jmp,_	,L3)
L37:
	INSN2(cmp,l	,NUM(4),R(edx))
	INSN1(jne,_	,L39)
	INSN2(mov,l	,X4 MEM_DISP(esp,12),R(edx))
	INSN2(mov,l	,X4 MEM(edx),R(eax))
	INSN1(jmp,_	,L3)
L39:
	INSN2(cmp,l	,NUM(8),R(edx))
	INSN1(jne,_	,L33)
	INSN2(mov,l	,X4 MEM_DISP(esp,12),R(edx))
	INSN2(mov,l	,X4 MEM(edx),R(eax))
	INSN2(mov,l	,X4 MEM_DISP(edx,4),R(edx))
	INSN1(jmp,_	,L3)
L33:
	INSN2(mov,l	,X4 MEM_DISP(esp,4),R(edx))
	INSN2(test,b	,NUM(24),R(dl))
	INSN1(jne,_	,L42)
	INSN2(add,l	,NUM(40),R(esp))
	ret NUM(4)
L42:
	INSN2(test,b	,NUM(16),R(dl))
	INSN1(je,_	,L3)
L47:
	INSN2(mov,l	,X4 MEM_DISP(esp,12),R(eax))
L3:
	INSN2(test,b	,NUM(2),X1 MEM_DISP(esp,5))
	INSN1(je,_	,L44)
	INSN2(mov,l	,X4 MEM_DISP(esp,40),R(ecx))
	INSN2(mov,l	,X4 MEM_DISP(esp,8),R(esp))
	INSN1(jmp,_	,INDIR(R(ecx)))
L44:
	INSN1(pop,l	,R(esi))
	INSN2(add,l	,NUM(36),R(esp))
	ret
FUNEND()

